<%- include('partials/header') %>

<div class="pb-20">
    <% if (hero) { %>
    <div class="relative h-[70vh] md:h-[85vh] w-full overflow-hidden group">
        <div class="absolute inset-0 bg-cover bg-center transition-transform duration-[10s] ease-linear transform group-hover:scale-110"
             style="background-image: url('<%= hero.shortPlayCover %>');">
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-dark via-dark/40 to-transparent"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-dark via-dark/60 to-transparent"></div>

        <div class="absolute bottom-0 left-0 w-full p-6 md:p-12 lg:p-20 z-10 flex flex-col justify-end h-full max-w-3xl" data-aos="fade-up">
            <div class="flex items-center gap-3 mb-3">
                <span class="bg-white/20 backdrop-blur text-xs font-bold px-2 py-1 rounded uppercase tracking-wide">Trending #1</span>
                <span class="text-primary font-bold"><%= hero.heatScoreShow %> Views</span>
            </div>
            
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-black leading-tight mb-4 drop-shadow-lg">
                <%= hero.shortPlayName %>
            </h1>
            
            <p class="text-gray-300 line-clamp-2 md:line-clamp-3 mb-8 text-sm md:text-lg max-w-xl drop-shadow-md">
                Experience the drama. Watch the most viral short plays trending right now on PanStream in 4K Vertical HD.
            </p>
            
            <div class="flex items-center gap-4">
                <a href="/watch/<%= hero.shortPlayId %>" 
                   class="bg-white text-black hover:bg-white/90 px-8 py-3 rounded-md font-bold flex items-center gap-2 transition transform hover:scale-105">
                    <i class="fas fa-play"></i> Play Now
                </a>
                <button class="bg-gray-500/30 backdrop-blur hover:bg-gray-500/50 text-white px-8 py-3 rounded-md font-bold flex items-center gap-2 transition">
                    <i class="fas fa-info-circle"></i> More Info
                </button>
            </div>
        </div>
    </div>
    <% } %>

    <div class="mt-8 relative z-20 space-y-12 px-4 md:px-12">
        <% if (theaters && theaters.length > 0) { %>
            <% theaters.forEach((group, index) => { %>
                <% if (group.contentInfos && group.contentInfos.length > 0) { %>
                    <div data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                        <div class="flex items-center justify-between mb-4 px-1">
                            <h2 class="text-xl md:text-2xl font-bold text-white"><%= group.contentName %></h2>
                            <a href="/browse" class="text-xs font-semibold text-primary hover:text-white transition uppercase">See All <i class="fas fa-chevron-right ml-1"></i></a>
                        </div>
                        
                        <div class="swiper mySwiper !overflow-visible">
                            <div class="swiper-wrapper">
                                <% group.contentInfos.forEach(item => { %>
                                    <div class="swiper-slide !w-[140px] md:!w-[200px] group cursor-pointer" onclick="window.location.href='/watch/<%= item.shortPlayId %>'">
                                        <div class="relative aspect-[2/3] rounded-lg overflow-hidden border border-white/5 shadow-lg transition-all duration-300 group-hover:scale-105 group-hover:border-white/30 group-hover:shadow-primary/20">
                                            <img src="<%= item.shortPlayCover %>" loading="lazy" class="w-full h-full object-cover">
                                            <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-center p-2">
                                                <i class="fas fa-play-circle text-4xl text-primary mb-2 transform scale-0 group-hover:scale-100 transition-transform duration-300 delay-100"></i>
                                                <span class="text-xs font-bold text-white line-clamp-2"><%= item.shortPlayName %></span>
                                            </div>
                                            <% if(item.heatScoreShow) { %>
                                                <div class="absolute top-2 right-2 bg-black/70 backdrop-blur text-[10px] px-1.5 py-0.5 rounded text-primary font-bold">
                                                    ðŸ”¥ <%= item.heatScoreShow %>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }) %>
                            </div>
                        </div>
                    </div>
                <% } %>
            <% }) %>
        <% } %>
    </div>
</div>

<%- include('partials/footer') %>
